id: subject_packages
label: Subject Packages CSV
migration_group: subjects
dependencies:
  enforced:
    module:
      - custom_migrate
#migration_dependencies:
#  required:
#    - subject_images
#    - subject_class
#    - breed_organization
source:
  plugin: csv
  path: modules/custom/custom_migrate/imports/subject_packages.csv
  header_row_count: 1
  keys:
    - name
  column_names:
    0:
      tid: Tid
    1:
      name: Name
    2:
      description: Description
    3:
      picture: Picture

process:
  type:
    plugin: default_value
    default_value: subject_packages
  name: name
  description: description
  'field_banner/target_id':
    plugin: migration
    migration: images
    source: picture
  'field_vih_cp_image/target_id':
    plugin: migration
    migration: images
    source: picture
  # Now that we have the images in place, we also copy the alternate text
  # for the images to the "alt" property of "field_image". Having "alt"
  # would help improve accessibility and SEO.
  'field_vih_cp_image/alt': name
  # TODO Make a paragraph out of the pictures field
  #  field_vih_class_image: pictures
destination:
  plugin: entity:taxonomy_term
  default_bundle: vih_class_package
